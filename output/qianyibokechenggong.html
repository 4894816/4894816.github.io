<!DOCTYPE html>
<html lang="en">
<head>
        <title>迁移博客成功</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
        
        <link rel="alternate" href="/None" title="Dash's Qzone" type="application/rss+xml" />
        
        <link rel="shortcut icon" href="/favicon.ico" />
        
        <script src="https://raw.github.com/LeaVerou/prefixfree/gh-pages/prefixfree.min.js"></script>
        

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="/css/ie.css"/>
                <script src="/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="/css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="">Dash's Qzone </a></h1>
                <nav><ul>
                    <li class="active"><a href="/category/qzone.html">Qzone</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="qianyibokechenggong.html" rel="bookmark"
           title="Permalink to 迁移博客成功">迁移博客成功</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-01-24T16:18:00+01:00">
                Fri 24 January 2014
        </abbr>

        <address class="vcard author">
                par <a class="url fn" href="/author/dash.html">Dash</a> dans <a href="/category/qzone.html">Qzone</a>
        </address>
</footer><!-- /.post-info -->      <p>谈一下设计思路， 兼谈博客的写作。   </p>
<h3>设计思路</h3>
<p>大概花了有10天的时间，把所有博客都同步到了自己平台，其中包括Ycool 800篇，两个QQ里共计300多篇，以及开心网等其他平台上的几百篇文章。  <br />
所有的迁移过程全靠代码搞定，为此写了几个脚本去抓叶子，有用来抓Ycool的，QQ私密日志版的，公开版的，开心网抓取版，加起来大概不到1000行的代码搞定，其中还有大量废话式的注释。依次跑一次的话，大概半个小时就能把所有日志同步到自己的服务器上。     </p>
<p>对比于三个不同平台的实现难度，腾讯的服务器对内容的保护可谓是---令人发指。  <br />
首先，QZONE页面不能被”另存为”，如果你看到好友的文章不错，想另存到本地，对不起，腾讯会给你保存下来一个莫名其妙的网页。这个问题我是通过iMacros这个插件来做的。这个插件可以智能化的抓取到浏览器呈现的特定内容，而且可以批量进行。写好iMacros的脚本后，点一下循环按钮，它会帮你把内容保存到本地。  <br />
另存到本地的内容是一种非常晦涩的代码。对kaixin001的日志处理我也是用iMacros来做的，但是它取回来的数据就很工整，没有大大小小的陷阱。而在腾讯抓回来的页面中，代码是非常混乱的。比如，它把本来标准的双引号变成了两个双引号，由此BeautifulSoup这个强大的库就一筹莫展了。  <br />
当然Python毕竟是很强悍的语言之一，对字符串的处理很是强大，但这也让我花了很多、很多时间。还得借助于正则表达式来解析文本内容、替换字段。很多次我在写代码注释的时候都感觉很气愤，于是数次提到了"Fuck"这个词。  <br />
腾讯的图片服务器也是隐藏得很深的，在取回图片的时候也花了不少时间。   </p>
<p>对比于腾讯，Ycool和开心网对内容的保护则没那么严格，取回的代码都很标准,取回的周折非常小。   </p>
<p>新搭建的页面在<a href="http://4894816.github.io," title="Dash's website">http://4894816.github.io</a>。   <br />
github是世界上最火/最大的代码交流社区，github提供的静态页面非常好用，不过你需要了解git这个版本控制工具，git可以用来管理代码、文档、日历等等，有兴趣的同学可以发信给我。     </p>
<p>新的网站基于pelican, <a href="http://blog.getpelican.com">http://blog.getpelican.com</a>, 这是一个静态网站生成器。所谓的静态网站，是指的不依赖于任何后台数据库的网站。静态网站，在早年互联网是非常流行的。在我本科一年级的时候制作过一个静态网站，关于英语学习的，曾挂在LZU主页两年多。那时候还是手动做页面、构图等等。一个一个页面的做。而现今，诸多的网站框架，可以让人多快好省的快速搭建起来一个视觉和可用性都僅一流的网站。    </p>
<p>github上的4894816主要是和4894816这个Qzone的同步。和以往不同的是，以后我可以不用通过登录Qzone即可实现文章的更新。  <br />
这个思路是通过QQ邮箱更新QQ空间而实现的，为此我又写了两个脚本，一个用于根据博客文章名生成源文件；另一个则是把生成后的博客内容通过邮件发送到QZone.具体的实现细节也是一波三折。不再多说。</p>
<h3>有关博客的写作</h3>
<p>我一直觉得，真正的写作是一件严肃而好玩的事情。说它严肃，是因为在写作的时候其实也是个体在整理自身思路的时候，做了什么，想要共享给读者怎样的信息，如何把读者一步一步代入到文字的境界里，这得考究到文字的手法和作者的功底之类。当然这方面我向来是做得很差的----你看，我就经常不说人话，事实上，第一段中的诸多术语能吓跑80%的读者。  <br />
而说它好玩，是因为确实整理思路，把思路理顺并表达出来，这里头充满了思维上的挑战和乐趣。在N记上班的时候，有次一位经验丰富的工程师让我讲解一个问题的解决方案，那个问题本是我完美解决的，我知道做了什么，但就是讲不出来。于是该工程师思考了两分钟，用了5、6句话总结出来问题的前因后果。末了说了一句，能解决问题很好，但把问题的前因后果理清楚，更为重要。所以，我现今用于判断高手、老手、新手、菜鸟的标准就在于---他(她)是否能用人话把问题说清楚。很多工程师是不说人话，满口术语的。这些术语，一来是一种自我防备，一来是一种装比。我曾有个师父说起过，做工程的人，要能像白居易写诗老婆婆都能听懂一样，用最简单的话讲出手头做的最富有挑战性的东西。你看，这么多年我不就是在持续叨逼叨嘛。     </p>
<p>从博客时代开始我就没能找到写文字的感觉。我所打开的后台编辑器都不够干净。充满着乱七八糟的广告、弹窗等等。有的傻逼后台写了15分钟还会自动给你保存一下，还有的傻逼后台给你弹出个广告来，爸爸去哪儿正在热播哦～～你爸爸才去哪儿呢，然后你就打开，再回来一看---得，看戏多好玩啊，写个屁文章。    </p>
<p>但从前年开始我开始接触静态网站开始，发现这种方式很适合真正的写作。源文件的语言一般是Markdown（没听过的可以Google一下)， 然后用框架生成html文件，Octopress是我用来写技术类博客的一个框架，如果你们感兴趣，可以猛击这里:<a href="http://feipyang.github.io">http://feipyang.github.io</a>, 排版精美，文章组织也非常直观。    </p>
<p>我现在是这样写作的，首先在文本文件中写Markdown: <br />
<img alt="/images/editblog.jpg" src="/images/editblog.jpg" />    </p>
<p>然后，一个命令生成本地网站. make html; make serve
在本地预览网站，并进行修改.       <br />
而后，同步到github和Qzone.     </p>
<p>这种方式我觉得是很适合我的，主要是因为内容完全可控，本地和远程都留有备份。 <br />
也可以通过本地的一些字段检查工具，自动检查文字是否有拼写错误，对图片也可以做深加工。 <br />
在黑白的命令行下写什么都很心静。而心静，恰好是写出不错的文字的一个必要条件。这种心静，我在别人家的后台编辑器里，永远都很难做到。   </p>
      
      <div id="sharing-tools">
      </div>
    </div><!-- /.entry-content -->
    <div class="comments">
      <h2>Commentaires</h2>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_identifier = "qianyibokechenggong.html";
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://4894816githubio.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
    </div>

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://4894816.qzone.qq.com/">4894816</a></li>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">

        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = '4894816githubio';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>